# example graphql with most allowed characters used

v_keyring='{"ecdh_public_key":"BCcG1yqaDw9fpWD67rsPEEkohrUiL26MiuRO5Aga74pTNuQV9vKZosVnojDuekXKcqv1AJMN/nSK8YqMUKUG9Tg=","eddsa_public_key":"4Dd6P1txzZWLJ3h4fJvfQEPgUXXD5DeLnFonRdXoMTKm","ethereum_address":"4387772c6c9e576f219795e034bca97c6998f4f1","keyring":{"ecdh":"y6saaZvwoflqnOGoiZpKTAXB4ZxzKoR6LLc9TpiS1d8=","eddsa":"Dy97AthCE8hzyGYxmfwEVaLBMgChn9cbGpRUULSC5QP1","ethereum":"07139f82553c940ac80f01b851b40c2a1eb5272520b9acb415cc9bd49b403cff","reflow":"BJQU3shz0LsiW7YFto2ib4OD/ld2HuuC3e00G8WD3yc=","schnorr":"YPyjfRFi0QzxPqgbe3eXYvjPA4mgVgHyunscnwUEwP0="},"reflow_public_key":"DRUOynRC8PljE0TuuQ7dLcOsRD3TPF17AaUkbV8IlpNsAyaNZsoIi8YA83PgUX7KB/oyjrimC+8yw+pLIbTst6NDokYYx23as4AQw750J5HiDni4rBeZhwBY8EFuDzpqC8sNM3AjESmzyUr8GCuraO5bPoXsB9Bn2H1Jju8HHig8k/uB2bO2rhpl7gXrb5wXE4M7H6vg867/kghzAe07iSNKp4mhav/lWsn0sXwsUuh3dY7wDyRn0XEx1ttc+d7n","schnorr_public_key":"EmJT4r4+JunOjlGOGYCrB861YvFaIdhAyAZIEDMvC/QwE9pRXrNdAXnq1iqCUFDP","seed":"arrow story season about lucky wedding weird vast verify route churn rally"}'


v_gqlsigned='{"eddsa_signature":"XkK79U51N6cDDzv4YHLQR+/m8zBr1yS9JJByjpngDv2fhMr2afgV2b/L3KLAgtwAaT7DRchnFLCpw0Sphlx+BQ==","gql":"bXV0YXRpb257Y3JlYXRlRWNvbm9taWNFdmVudChldmVudDp7YWN0aW9uOiJwcm9kdWNlInByb3ZpZGVyOiIwMUZXTjEyWFg3VEpYMUFGRjVLQTRXUE5OOSIjYm9icmVjZWl2ZXI6IjAxRldOMTJYWDdUSlgxQUZGNUtBNFdQTk45IiNib2JvdXRwdXRPZjoiMDFGV04xMzZTUERNS1dXRjIzU1dRWlJNNUYiI2hhcnZlc3RpbmdhcHBsZXNwcm9jZXNzcmVzb3VyY2VDb25mb3Jtc1RvOiIwMUZXTjEzNlk0Wlo3SzlGMzE0SFE3TUtSRyIjYXBwbGVyZXNvdXJjZVF1YW50aXR5OntoYXNOdW1lcmljYWxWYWx1ZTo1MGhhc1VuaXQ6IjAxRldOMTM2UzVWUENDUjNCM1RHWURZRVk5IiNraWxvZ3JhbX1hdExvY2F0aW9uOiIwMUZXTjEzNlpBUFE1RU5CRjNGWjc5OTM1RCIjYm9iJ3NmYXJtaGFzUG9pbnRJblRpbWU6IjIwMjItMDEtMDJUMDM6MDQ6MDVaIn1uZXdJbnZlbnRvcmllZFJlc291cmNlOntuYW1lOiJib2Inc2FwcGxlcyJub3RlOiJib2Inc2RlbGlzaGFwcGxlcyJ0cmFja2luZ0lkZW50aWZpZXI6ImxvdDEyMyJjdXJyZW50TG9jYXRpb246IjAxRldOMTM2WkFQUTVFTkJGM0ZaNzk5MzVEIiNib2Inc2Zhcm1zdGFnZToiMDFGV04xMzZYMTgzRE00M0NUV1hFU05XQUIiI2ZyZXNofSl7ZWNvbm9taWNFdmVudHtpZGFjdGlvbntpZH1wcm92aWRlcntpZH1yZWNlaXZlcntpZH1vdXRwdXRPZntpZH1yZXNvdXJjZUNvbmZvcm1zVG97aWR9cmVzb3VyY2VRdWFudGl0eXtoYXNOdW1lcmljYWxWYWx1ZWhhc1VuaXR7aWR9fWF0TG9jYXRpb257aWR9aGFzUG9pbnRJblRpbWV9ZWNvbm9taWNSZXNvdXJjZXsjdGhpc2lzdGhlbmV3bHktY3JlYXRlZHJlc291cmNlaWRuYW1lbm90ZXRyYWNraW5nSWRlbnRpZmllcnN0YWdle2lkfWN1cnJlbnRMb2NhdGlvbntpZH1jb25mb3Jtc1Rve2lkfXByaW1hcnlBY2NvdW50YWJsZXtpZH1jdXN0b2RpYW57aWR9YWNjb3VudGluZ1F1YW50aXR5e2hhc051bWVyaWNhbFZhbHVlaGFzVW5pdHtpZH19b25oYW5kUXVhbnRpdHl7aGFzTnVtZXJpY2FsVmFsdWVoYXNVbml0e2lkfX19fX0=","hash":"c500c14caa5bff14b0f869b310c5e98ac01b26b09a943c878ce40b97f5f394f9"}'





gql=`mktemp`
gqljson=`mktemp`
cat <<EOF > ${gql}
mutation {
  createEconomicEvent(
    event: {
      action: "produce"
      provider: "01FWN12XX7TJX1AFF5KA4WPNN9" # bob
      receiver: "01FWN12XX7TJX1AFF5KA4WPNN9" # bob
      outputOf: "01FWN136SPDMKWWF23SWQZRM5F" # harvesting apples process
      resourceConformsTo: "01FWN136Y4ZZ7K9F314HQ7MKRG" # apple
      resourceQuantity: {
        hasNumericalValue: 50
        hasUnit: "01FWN136S5VPCCR3B3TGYDYEY9" # kilogram
      }
      atLocation: "01FWN136ZAPQ5ENBF3FZ79935D" # bob's farm
      hasPointInTime: "2022-01-02T03:04:05Z"
    }
    newInventoriedResource: {
      name: "bob's apples"
      note: "bob's delish apples"
      trackingIdentifier: "lot 123"
      currentLocation: "01FWN136ZAPQ5ENBF3FZ79935D" # bob's farm
      stage: "01FWN136X183DM43CTWXESNWAB" # fresh
    }
  ) {
    economicEvent {
      id
      action {id}
      provider {id}
      receiver {id}
      outputOf {id}
      resourceConformsTo {id}
      resourceQuantity {
        hasNumericalValue
        hasUnit {id}
      }
      atLocation {id}
      hasPointInTime
    }
    economicResource { # this is the newly-created resource
      id
      name
      note
      trackingIdentifier
      stage {id}
      currentLocation {id}
      conformsTo {id}
      primaryAccountable {id}
      custodian {id}
      accountingQuantity {
        hasNumericalValue
        hasUnit {id}
      }
      onhandQuantity {
        hasNumericalValue
        hasUnit {id}
      }
    }
  }
}
EOF


gql64=`mktemp`
cat ${gql} | base64 -w0 > ${gql64}

cat <<EOF > ${gqljson}
{"gql":"`cat ${gql64}`"}
EOF

# clean vectors
rm -f ${gql} ${gql64}

