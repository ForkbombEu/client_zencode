# example graphql with most allowed characters used


v_keyring='{"eddsa_public_key":"6j9ofg6uRT7naApc1sgTFYozJ8zjdA2hMti9uYW3RCwm","ethereum_address":"a795c125d35e69d327bfa1bb9b07025173aeccc5","keyring":{"bitcoin":"L3gjPSHVZENcs6dF5w2AH4w51PMJMGbL55M1kFoZFrx1582jFWVn","dilithium":"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","ecdh":"B4rYTWx6UMbc2YPWRNpl4w2M6gY9jqSa637n8Kr2pPc=","eddsa":"BUuwCJvutDvwCg8wDParwufu82RPwmP7TUhhYjieXT3s","ethereum":"fa40398848905f91ba17fa223a3aab2e7b2ca0b435c667f0d0f6a8a94247d0b9","reflow":"LMVCbnDLyDjsvzRSMdlnmFVxmv5cTvfiLqNDfsd+owc=","schnorr":"VYVQKZCn/GQdR9mu6gy1ogS3mzAxsI8LTQiWc7Q/2pc="},"reflow_public_key":"F4FlYJareW7q54PWFJk33HVJPy5Lro7dPjbAKMX4cADJF+6TCEdQI1XeV2maL195C72mtD8tuwx9q/0ngqhBklpVHAlJ5CA2rgUQlVf1htV0KUUYotGlae3oCy7meMJ2DUGNZgfPuoFY1/OUPmNdtzmtYbZPyjn5wwdZE1RoRQMAAhckWatPI1UQ13DZ9rkYBU44hHsURHYtjPJZuxOKnSt/Noa6CXHlORXPySf62G3EOC3s1Tc3Vhfds/e/C28A","schnorr_public_key":"FuKFYKYGRdElnnrXsQSuXO8dxiv2pbE5p1W+usDuc005SzDUQF5ZeOPmLDli+AcI"}'

gql=`mktemp`
gqljson=`mktemp`
cat <<EOF > ${gql}
mutation {
  createEconomicEvent(
    event: {
      action: "produce"
      provider: "01FWN12XX7TJX1AFF5KA4WPNN9" # bob
      receiver: "01FWN12XX7TJX1AFF5KA4WPNN9" # bob
      outputOf: "01FWN136SPDMKWWF23SWQZRM5F" # harvesting apples process
      resourceConformsTo: "01FWN136Y4ZZ7K9F314HQ7MKRG" # apple
      resourceQuantity: {
        hasNumericalValue: 50
        hasUnit: "01FWN136S5VPCCR3B3TGYDYEY9" # kilogram
      }
      atLocation: "01FWN136ZAPQ5ENBF3FZ79935D" # bob's farm
      hasPointInTime: "2022-01-02T03:04:05Z"
    }
    newInventoriedResource: {
      name: "bob's apples"
      note: "bob's delish apples"
      trackingIdentifier: "lot 123"
      currentLocation: "01FWN136ZAPQ5ENBF3FZ79935D" # bob's farm
      stage: "01FWN136X183DM43CTWXESNWAB" # fresh
    }
  ) {
    economicEvent {
      id
      action {id}
      provider {id}
      receiver {id}
      outputOf {id}
      resourceConformsTo {id}
      resourceQuantity {
        hasNumericalValue
        hasUnit {id}
      }
      atLocation {id}
      hasPointInTime
    }
    economicResource { # this is the newly-created resource
      id
      name
      note
      trackingIdentifier
      stage {id}
      currentLocation {id}
      conformsTo {id}
      primaryAccountable {id}
      custodian {id}
      accountingQuantity {
        hasNumericalValue
        hasUnit {id}
      }
      onhandQuantity {
        hasNumericalValue
        hasUnit {id}
      }
    }
  }
}
EOF


gql64=`mktemp`
cat ${gql} | base64 -w0 > ${gql64}

cat <<EOF > ${gqljson}
{"gql":"`cat ${gql64}`"}
EOF

v_gqlsigned='{"eddsa_signature":"4UNmAMzk8Qi44rd72ocxbN8ijv7RtFASPX9yfHnjVrtp8kWyktyJWZZnyodeFr42GZ5rGPVAU5McaD41dW4hotqi","graphql":"bXV0YXRpb24gewogIGNyZWF0ZUVjb25vbWljRXZlbnQoCiAgICBldmVudDogewogICAgICBhY3Rpb246ICJwcm9kdWNlIgogICAgICBwcm92aWRlcjogIjAxRldOMTJYWDdUSlgxQUZGNUtBNFdQTk45IiAjIGJvYgogICAgICByZWNlaXZlcjogIjAxRldOMTJYWDdUSlgxQUZGNUtBNFdQTk45IiAjIGJvYgogICAgICBvdXRwdXRPZjogIjAxRldOMTM2U1BETUtXV0YyM1NXUVpSTTVGIiAjIGhhcnZlc3RpbmcgYXBwbGVzIHByb2Nlc3MKICAgICAgcmVzb3VyY2VDb25mb3Jtc1RvOiAiMDFGV04xMzZZNFpaN0s5RjMxNEhRN01LUkciICMgYXBwbGUKICAgICAgcmVzb3VyY2VRdWFudGl0eTogewogICAgICAgIGhhc051bWVyaWNhbFZhbHVlOiA1MAogICAgICAgIGhhc1VuaXQ6ICIwMUZXTjEzNlM1VlBDQ1IzQjNUR1lEWUVZOSIgIyBraWxvZ3JhbQogICAgICB9CiAgICAgIGF0TG9jYXRpb246ICIwMUZXTjEzNlpBUFE1RU5CRjNGWjc5OTM1RCIgIyBib2IncyBmYXJtCiAgICAgIGhhc1BvaW50SW5UaW1lOiAiMjAyMi0wMS0wMlQwMzowNDowNVoiCiAgICB9CiAgICBuZXdJbnZlbnRvcmllZFJlc291cmNlOiB7CiAgICAgIG5hbWU6ICJib2IncyBhcHBsZXMiCiAgICAgIG5vdGU6ICJib2IncyBkZWxpc2ggYXBwbGVzIgogICAgICB0cmFja2luZ0lkZW50aWZpZXI6ICJsb3QgMTIzIgogICAgICBjdXJyZW50TG9jYXRpb246ICIwMUZXTjEzNlpBUFE1RU5CRjNGWjc5OTM1RCIgIyBib2IncyBmYXJtCiAgICAgIHN0YWdlOiAiMDFGV04xMzZYMTgzRE00M0NUV1hFU05XQUIiICMgZnJlc2gKICAgIH0KICApIHsKICAgIGVjb25vbWljRXZlbnQgewogICAgICBpZAogICAgICBhY3Rpb24ge2lkfQogICAgICBwcm92aWRlciB7aWR9CiAgICAgIHJlY2VpdmVyIHtpZH0KICAgICAgb3V0cHV0T2Yge2lkfQogICAgICByZXNvdXJjZUNvbmZvcm1zVG8ge2lkfQogICAgICByZXNvdXJjZVF1YW50aXR5IHsKICAgICAgICBoYXNOdW1lcmljYWxWYWx1ZQogICAgICAgIGhhc1VuaXQge2lkfQogICAgICB9CiAgICAgIGF0TG9jYXRpb24ge2lkfQogICAgICBoYXNQb2ludEluVGltZQogICAgfQogICAgZWNvbm9taWNSZXNvdXJjZSB7ICMgdGhpcyBpcyB0aGUgbmV3bHktY3JlYXRlZCByZXNvdXJjZQogICAgICBpZAogICAgICBuYW1lCiAgICAgIG5vdGUKICAgICAgdHJhY2tpbmdJZGVudGlmaWVyCiAgICAgIHN0YWdlIHtpZH0KICAgICAgY3VycmVudExvY2F0aW9uIHtpZH0KICAgICAgY29uZm9ybXNUbyB7aWR9CiAgICAgIHByaW1hcnlBY2NvdW50YWJsZSB7aWR9CiAgICAgIGN1c3RvZGlhbiB7aWR9CiAgICAgIGFjY291bnRpbmdRdWFudGl0eSB7CiAgICAgICAgaGFzTnVtZXJpY2FsVmFsdWUKICAgICAgICBoYXNVbml0IHtpZH0KICAgICAgfQogICAgICBvbmhhbmRRdWFudGl0eSB7CiAgICAgICAgaGFzTnVtZXJpY2FsVmFsdWUKICAgICAgICBoYXNVbml0IHtpZH0KICAgICAgfQogICAgfQogIH0KfQo="}'

clean_vectors() {
    rm -f ${gql} ${gql64}
}
