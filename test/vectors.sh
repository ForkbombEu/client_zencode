# example graphql with most allowed characters used

v_keyring='{"ecdh_public_key":"BGZ/3f4n0z/7gogNpCGhadZZkkj47hXZHBEhM9bG6bYlAQ3ZnoopILBhTGwial2daMTCLjgWMXghW3It4fCyLQ0=","eddsa_public_key":"3MWtd22nWtMQXAHa4HTim927VDhYnWqLDG79xfAebM8A","ethereum_address":"6f19c9ced3f3f7e9af001ae68459885a5a14ae15","keyring":{"ecdh":"qW16tYXrLL+8SskuOZc+fdrTCgN67j2mj4atv4Wt8hg=","eddsa":"BmbXLQdQTqfaqWjv8wVPoExqEdKCNjEmmRNuhYMVoKj","ethereum":"2dbb0ce8237f9b8e8bbc39adde696fd83289cef0203c1f03f4ca020242264ccc","reflow":"HIfH6E5q7tviGhVWtLrqqbNRzTVuGEVAZI56VtjzHZY=","schnorr":"RKSJL+hfDzZGcL2ApHf+tyY3B/+axEbNAwB3MTlUP60="},"reflow_public_key":"BjLtFS63qqYGRyqyyF+HNiU2c9FW1DWcO0kSRpiXSOmA6meyx/qMY9bDCMUriwnqEIgoFCQrDcPs/RmwAp0I8+fkgkmEifA3p9h5Qt9rkWA6aCTRzpOwk1dl40X8LN0cC4a4rukxjTjDhiYFbGu3K0WAPmvmtszGxnC5/enKqjjTRUWlYCurcHfXl9EcCThNGUSWmSkA81Fw+CphGZEoI9xyhMJyF876OnqleVbXUSZ2Y6Xe82VIm6CYgvk46lNW","schnorr_public_key":"CJlQ8uHr9D2h+VNq6EXeg5/8FxMAHxjfq301VBhdDfngsEUy6T9BZPYFkRgHhgJ0","seed":"arrow story season about lucky wedding weird vast verify route churn rally"}'


v_gqlsigned='{"eddsa_signature":"3qTKtbN7bqhtOIZoa7cDZDut/pNn34BkuD0dCidJ+mSkUlYGdcIg126Tr+jpa558FNVJtuv5ZiM4mKkW/lRVDg==","gql":"bXV0YXRpb257Y3JlYXRlRWNvbm9taWNFdmVudChldmVudDp7YWN0aW9uOiJwcm9kdWNlInByb3ZpZGVyOiIwMUZXTjEyWFg3VEpYMUFGRjVLQTRXUE5OOSIjYm9icmVjZWl2ZXI6IjAxRldOMTJYWDdUSlgxQUZGNUtBNFdQTk45IiNib2JvdXRwdXRPZjoiMDFGV04xMzZTUERNS1dXRjIzU1dRWlJNNUYiI2hhcnZlc3RpbmdhcHBsZXNwcm9jZXNzcmVzb3VyY2VDb25mb3Jtc1RvOiIwMUZXTjEzNlk0Wlo3SzlGMzE0SFE3TUtSRyIjYXBwbGVyZXNvdXJjZVF1YW50aXR5OntoYXNOdW1lcmljYWxWYWx1ZTo1MGhhc1VuaXQ6IjAxRldOMTM2UzVWUENDUjNCM1RHWURZRVk5IiNraWxvZ3JhbX1hdExvY2F0aW9uOiIwMUZXTjEzNlpBUFE1RU5CRjNGWjc5OTM1RCIjYm9iJ3NmYXJtaGFzUG9pbnRJblRpbWU6IjIwMjItMDEtMDJUMDM6MDQ6MDVaIn1uZXdJbnZlbnRvcmllZFJlc291cmNlOntuYW1lOiJib2Inc2FwcGxlcyJub3RlOiJib2Inc2RlbGlzaGFwcGxlcyJ0cmFja2luZ0lkZW50aWZpZXI6ImxvdDEyMyJjdXJyZW50TG9jYXRpb246IjAxRldOMTM2WkFQUTVFTkJGM0ZaNzk5MzVEIiNib2Inc2Zhcm1zdGFnZToiMDFGV04xMzZYMTgzRE00M0NUV1hFU05XQUIiI2ZyZXNofSl7ZWNvbm9taWNFdmVudHtpZGFjdGlvbntpZH1wcm92aWRlcntpZH1yZWNlaXZlcntpZH1vdXRwdXRPZntpZH1yZXNvdXJjZUNvbmZvcm1zVG97aWR9cmVzb3VyY2VRdWFudGl0eXtoYXNOdW1lcmljYWxWYWx1ZWhhc1VuaXR7aWR9fWF0TG9jYXRpb257aWR9aGFzUG9pbnRJblRpbWV9ZWNvbm9taWNSZXNvdXJjZXsjdGhpc2lzdGhlbmV3bHktY3JlYXRlZHJlc291cmNlaWRuYW1lbm90ZXRyYWNraW5nSWRlbnRpZmllcnN0YWdle2lkfWN1cnJlbnRMb2NhdGlvbntpZH1jb25mb3Jtc1Rve2lkfXByaW1hcnlBY2NvdW50YWJsZXtpZH1jdXN0b2RpYW57aWR9YWNjb3VudGluZ1F1YW50aXR5e2hhc051bWVyaWNhbFZhbHVlaGFzVW5pdHtpZH19b25oYW5kUXVhbnRpdHl7aGFzTnVtZXJpY2FsVmFsdWVoYXNVbml0e2lkfX19fX0=","hash":"c500c14caa5bff14b0f869b310c5e98ac01b26b09a943c878ce40b97f5f394f9"}'




gql=`mktemp`
gqljson=`mktemp`
cat <<EOF > ${gql}
mutation {
  createEconomicEvent(
    event: {
      action: "produce"
      provider: "01FWN12XX7TJX1AFF5KA4WPNN9" # bob
      receiver: "01FWN12XX7TJX1AFF5KA4WPNN9" # bob
      outputOf: "01FWN136SPDMKWWF23SWQZRM5F" # harvesting apples process
      resourceConformsTo: "01FWN136Y4ZZ7K9F314HQ7MKRG" # apple
      resourceQuantity: {
        hasNumericalValue: 50
        hasUnit: "01FWN136S5VPCCR3B3TGYDYEY9" # kilogram
      }
      atLocation: "01FWN136ZAPQ5ENBF3FZ79935D" # bob's farm
      hasPointInTime: "2022-01-02T03:04:05Z"
    }
    newInventoriedResource: {
      name: "bob's apples"
      note: "bob's delish apples"
      trackingIdentifier: "lot 123"
      currentLocation: "01FWN136ZAPQ5ENBF3FZ79935D" # bob's farm
      stage: "01FWN136X183DM43CTWXESNWAB" # fresh
    }
  ) {
    economicEvent {
      id
      action {id}
      provider {id}
      receiver {id}
      outputOf {id}
      resourceConformsTo {id}
      resourceQuantity {
        hasNumericalValue
        hasUnit {id}
      }
      atLocation {id}
      hasPointInTime
    }
    economicResource { # this is the newly-created resource
      id
      name
      note
      trackingIdentifier
      stage {id}
      currentLocation {id}
      conformsTo {id}
      primaryAccountable {id}
      custodian {id}
      accountingQuantity {
        hasNumericalValue
        hasUnit {id}
      }
      onhandQuantity {
        hasNumericalValue
        hasUnit {id}
      }
    }
  }
}
EOF


gql64=`mktemp`
cat ${gql} | base64 -w0 > ${gql64}

cat <<EOF > ${gqljson}
{"gql":"`cat ${gql64}`"}
EOF

# clean vectors
rm -f ${gql} ${gql64}

